{"version":3,"sources":["../src/swizzle-config.js"],"names":["files","params","stacks","conf","keyCase","text","toUpperCase","descCase","toLowerCase","replace","defaultConf","rc","filePath","SwizzleConfig","swizzleJson","state","Object","assign","actions","addFiles","removeFiles","name","desc","defaultValue","generated","description","password","noSave","addParam","removeParam","file","addStack","removeStack","verbose","reduce","list","param","push","keys","stackName","filter","d","map","type","TypeError","action","concat","find","findFile","existingParam","newParam"],"mappings":"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","file":"swizzle-config.js","sourcesContent":["import snakeCase from 'lodash.snakecase'\nimport unique from 'lodash.uniq'\nimport omit from 'lodash.omit'\nimport {swizzleFileName} from './swizzle-file-system'\n\n/**\n no file system operations, state changes only\n **/\n\nexport const keyCase = (text) => snakeCase(text).toUpperCase()\nexport const descCase = (text) => snakeCase(text).toLowerCase().replace(/_/g, ' ')\n\nexport const defaultConf = () => ({\n\trc: {},\n\tfiles: [],\n\tparams: [],\n\tstacks: {},\n\tfilePath: swizzleFileName\n})\n\nexport class SwizzleConfig {\n\n\tconstructor(swizzleJson) {\n\t\tthis.state = Object.assign(defaultConf(), swizzleJson)\n\t}\n\n\tget stackName() {\n\t\treturn this.state.stackName\n\t}\n\n\tset stackName(name) {\n\t\tthis.state.stackName = name\n\t}\n\n\tget files() {\n\t\treturn this.state.files.filter((d) => d)\n\t}\n\n\tget params() {\n\t\treturn this.state.params.map((param) => Object.assign({}, param))\n\t}\n\n\tget stacks() {\n\t\treturn this.state.stacks\n\t}\n\n\taddFiles({files}) {\n\t\tthis.state = conf(this.state, actions.addFiles(files))\n\t}\n\n\tremoveFiles({files}) {\n\t\tthis.state = conf(this.state, actions.removeFiles(files))\n\t}\n\n\taddParam({name, desc, defaultValue, generated, description, password, noSave}) {\n\t\t// support short or long name as a convenience\n\t\tdescription = description || desc\n\t\tthis.state = conf(this.state, actions.addParam(name, description, defaultValue, generated, password, noSave))\n\t}\n\n\tremoveParam({name}) {\n\t\tthis.state = conf(this.state, actions.removeParam(name))\n\t}\n\n\taddStack({name, params, file}) {\n\t\tthis.state = conf(this.state, actions.addStack(name, params, file))\n\t}\n\n\tremoveStack({name}) {\n\t\tthis.state = conf(this.state, actions.removeStack(name))\n\t}\n\n\tlistParams({verbose} = {verbose: false}) {\n\t\treturn this.state.params.reduce((list, param) => {\n\t\t\tif (verbose) {\n\t\t\t\tlist.push({name: param.name, description: param.description, defaultValue: param.defaultValue})\n\t\t\t} else {\n\t\t\t\tlist.push(param.name)\n\t\t\t}\n\t\t\treturn list\n\t\t}, [])\n\t}\n\n\tlistStacks({verbose} = {verbose: false}) {\n\t\treturn Object.keys(this.state.stacks).reduce((list, name) => {\n\t\t\tif (verbose) {\n\t\t\t\tlist.push(Object.assign({}, this.state.stacks[name]))\n\t\t\t} else {\n\t\t\t\tlist.push(name)\n\t\t\t}\n\t\t\treturn list\n\t\t}, [])\n\t}\n\n}\n\nconst actions = {\n\taddFiles(files) {\n\t\treturn {\n\t\t\ttype: 'add-files',\n\t\t\tfiles\n\t\t}\n\t},\n\tremoveFiles(files) {\n\t\treturn {\n\t\t\ttype: 'remove-files',\n\t\t\tfiles\n\t\t}\n\t},\n\taddParam(name, description, defaultValue, generated, password, noSave) {\n\t\tif (!name) {\n\t\t\tthrow new TypeError('a parameter name is required')\n\t\t}\n\t\treturn {\n\t\t\ttype: 'add-param',\n\t\t\tparam: {\n\t\t\t\tname,\n\t\t\t\tdescription,\n\t\t\t\tdefaultValue,\n\t\t\t\tgenerated,\n\t\t\t\tpassword,\n\t\t\t\tnoSave\n\t\t\t}\n\t\t}\n\t},\n\tremoveParam(name) {\n\t\treturn {\n\t\t\ttype: 'remove-param',\n\t\t\tname\n\t\t}\n\t},\n\taddStack(name, params, file) {\n\t\treturn {\n\t\t\ttype: 'add-stack',\n\t\t\tname,\n\t\t\tparams,\n\t\t\tfile\n\t\t}\n\t},\n\tremoveStack(name) {\n\t\treturn {\n\t\t\ttype: 'remove-stack',\n\t\t\tname\n\t\t}\n\t}\n}\n\nexport function files(state = [], action) {\n\tswitch (action.type) {\n\t\tcase 'add-files':\n\t\t\treturn unique(state.concat(action.files))\n\t\tcase 'remove-files':\n\t\t\treturn state.filter((file) => !action.files.find((findFile) => file === findFile))\n\t}\n\treturn state\n}\n\nexport function params(state = [], action) {\n\n\tswitch (action.type) {\n\n\t\tcase 'add-param':\n\t\t\tconst existingParam = state.find((d) => d.name === action.param.name)\n\t\t\tconst {name, description, defaultValue, generated, password, noSave} = action.param\n\t\t\tconst newParam = {}\n\t\t\tif (existingParam) {\n\t\t\t\t// update an existing parameter\n\t\t\t\tObject.assign(newParam, existingParam)\n\t\t\t\tif (typeof description !== 'undefined') {\n\t\t\t\t\tnewParam.description = description\n\t\t\t\t}\n\t\t\t\tif (typeof defaultValue !== 'undefined') {\n\t\t\t\t\tnewParam.defaultValue = defaultValue\n\t\t\t\t}\n\t\t\t\tif (typeof noSave !== 'undefined') {\n\t\t\t\t\tnewParam.noSave = noSave\n\t\t\t\t}\n\t\t\t\tif (typeof password !== 'undefined') {\n\t\t\t\t\tnewParam.password = password\n\t\t\t\t}\n\t\t\t\tif (typeof generated !== 'undefined') {\n\t\t\t\t\tnewParam.generated = generated\n\t\t\t\t}\n\t\t\t\t// remove boolean parameters that are not true\n\t\t\t\tif (newParam.noSave !== true) {\n\t\t\t\t\tdelete newParam.noSave\n\t\t\t\t}\n\t\t\t\tif (newParam.password !== true) {\n\t\t\t\t\tdelete newParam.password\n\t\t\t\t}\n\t\t\t\tif (newParam.generated !== true) {\n\t\t\t\t\tdelete newParam.generated\n\t\t\t\t}\n\t\t\t\t// return list of params replacing the new one in position\n\t\t\t\treturn state.map((param) => {\n\t\t\t\t\tif (param.name === name) {\n\t\t\t\t\t\treturn newParam\n\t\t\t\t\t}\n\t\t\t\t\treturn param\n\t\t\t\t})\n\t\t\t}\n\t\t\t// adding a new parameter\n\t\t\tObject.assign(newParam, {name, description, defaultValue, generated, password, noSave})\n\t\t\tif (typeof newParam.description === 'undefined') {\n\t\t\t\tnewParam.description = descCase(`Your-${action.param.name}`)\n\t\t\t}\n\t\t\tif (typeof newParam.defaultValue === 'undefined') {\n\t\t\t\tif (newParam.generated === true) {\n\t\t\t\t\tnewParam.defaultValue = 'generated'\n\t\t\t\t} else {\n\t\t\t\t\tnewParam.defaultValue = keyCase(`Your-${action.param.name}`)\n\t\t\t\t}\n\t\t\t}\n\t\t\t// remove boolean parameters that are not true\n\t\t\tif (newParam.noSave !== true) {\n\t\t\t\tdelete newParam.noSave\n\t\t\t}\n\t\t\tif (newParam.password !== true) {\n\t\t\t\tdelete newParam.password\n\t\t\t}\n\t\t\tif (newParam.generated !== true) {\n\t\t\t\tdelete newParam.generated\n\t\t\t}\n\t\t\treturn state.concat(newParam)\n\n\t\tcase 'remove-param':\n\t\t\treturn state.filter((d) => d.name !== action.name)\n\n\t\tdefault:\n\t\t\treturn state\n\t}\n\n}\n\nexport function stacks(state = [], action) {\n\tswitch (action.type) {\n\t\tcase 'add-stack':\n\t\t\treturn Object.assign({}, state, {[action.name]: {params: action.params, file: action.file || ''}})\n\t\tcase 'remove-stack':\n\t\t\treturn omit(state, action.name)\n\t}\n\treturn state\n}\n\nexport function conf(state = defaultConf(), action) {\n\tswitch (action.type) {\n\t\tcase 'add-files':\n\t\tcase 'remove-files':\n\t\t\treturn Object.assign(state, {files: files(state.files, action)})\n\t\tcase 'add-param':\n\t\tcase 'remove-param':\n\t\t\treturn Object.assign(state, {params: params(state.params, action)})\n\t\tcase 'add-stack':\n\t\tcase 'remove-stack':\n\t\t\treturn Object.assign(state, {stacks: stacks(state.stacks, action)})\n\t}\n\treturn state\n}\n"]}